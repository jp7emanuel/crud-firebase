<!DOCTYPE html>
<html lang="en" ng-app="testejp7App" data-framework="firebase">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>    
    <!-- Angular lib -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular-route.min.js"></script>
    <!-- Firebase and AngularFire -->
    <script src="https://www.gstatic.com/firebasejs/3.2.0/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!-- Create some padding for body -->
    <style>
        body {
            padding-top: 70px;
        }
    </style>

    <script src="/js/app.js"></script>
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <div class="navbar-brand" href="#">JP7 Contact List</div>
            </div>
        </div>
    </nav>

    <div class='container' ng-controller="ContactsController">
        <pre class="col-md-12">{{ contacts | json }}</pre>
        <section style="margin-bottom: 10px;">
            <header class="col-md-12">
                <h1 class='text-center'>New Contact</h1>
            </header>    
            <article class="col-md-12">
                <form ng-submit="saveContact()">
                    <p>
                        <label>First Name (required)</label> 
                        <input id="name" class="form-control" type="text" ng-model="newContact.firstName" required autofocus> 
                    </p>
                    <p>
                        <label>Last Name (required)</label> 
                        <input id="name" class="form-control" type="text" ng-model="newContact.lastName" required> 
                    </p>
                    <p>
                        <label>Email (required)</label> 
                        <input id="name" class="form-control" type="text" ng-model="newContact.email" required> 
                    </p>
                    <p>
                        <label>Phone</label> 
                        <input id="name" class="form-control" type="text" ng-model="newContact.phone"> 
                    </p>
                    
                    <button class='btn btn-primary' type="submit">Save</button>                 
                </form>
            </article>
            
        </section>
        <section ng-show="contacts.length > 0" style="padding-bottom: 100px">
            <header class="col-md-12">
                <h1 class='text-center'>All Contacts</h1>
            </header>      
            <article class="col-md-12">
                <table class="table table-hover table-bordered">
                    <tr>
                        <th>#</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>email</th>
                        <th>Phone</th>
                        <th width="1%">Action</th>
                    </tr>
                    <tr ng-repeat="(key, contact) in contacts" style="cursor:pointer">
                        <td>{{ key+1 }}</td>
                        <td>{{ contact.firstName }}</td>
                        <td>{{ contact.lastName }}</td>
                        <td>{{ contact.email }}</td>
                        <td>{{ contact.phone }}</td>
                        <td width="1%">
                           <button class="btn btn-danger" ng-click="removeContact(contact)">Delete</button>
                        </td>
                    </tr>
                </table>                    
            </article>          
        </section>
    </div>
</body>
</html>